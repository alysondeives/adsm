add_library(gmac-trace STATIC ${gmac-trace_SRC})
target_link_libraries(gmac-trace)
set_target_properties(gmac-trace PROPERTIES
    COMPILE_FLAGS ${gmac_static_FLAGS}
    COMPILE_DEFINITIONS_DEBUG USE_DBC)

add_library(gmac-common STATIC ${gmac-common_SRC})
target_link_libraries(gmac-common gmac-trace ${gmac_LIBS})
set_target_properties(gmac-common PROPERTIES
    COMPILE_FLAGS ${gmac_static_FLAGS}
    COMPILE_DEFINITIONS_DEBUG USE_DBC)

add_library(gmac-memory STATIC ${gmac-memory_SRC})
target_link_libraries(gmac-memory gmac-common gmac-trace ${gmac_LIBS})
set_target_properties(gmac-memory PROPERTIES
    COMPILE_FLAGS ${gmac_static_FLAGS}
    COMPILE_DEFINITIONS_DEBUG USE_DBC)

add_library(gmac-core STATIC ${gmac-core_SRC}) 
set_target_properties(gmac-core PROPERTIES
    COMPILE_FLAGS ${gmac_static_FLAGS}
    COMPILE_DEFINITIONS_DEBUG USE_DBC)

add_library(gmac-core-hpe STATIC ${gmac-core-hpe_SRC})
set_target_properties(gmac-core-hpe PROPERTIES
    COMPILE_FLAGS ${gmac_static_FLAGS}
    COMPILE_DEFINITIONS_DEBUG USE_DBC)


add_library(gmac SHARED ${gmac-hpe_SRC}) 
target_link_libraries(gmac gmac-memory gmac-core-hpe gmac-core gmac-common gmac-trace ${gmac_LIBS})
set_target_properties(gmac PROPERTIES
    COMPILE_DEFINITIONS_DEBUG USE_DBC)


link_directories(${gmac_LIBDIR})

