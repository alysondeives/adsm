add_subdirectory(vm)
add_subdirectory(${OS_DIR})

set(memory_SRC
    Allocator.h
    Allocator.cpp
    Block.h
    Block-impl.h
    Block.cpp
    DistributedBlock.h
    DistributedBlock-impl.h
    DistributedObject.h
    DistributedObject-impl.h
    Handler.h
    Handler.cpp
    HostMappedObject.h
    HostMappedObject-impl.h
    HostMappedObject.cpp
    Manager.h
    Manager-impl.h
    Manager.cpp
    Memory.h
    Object.h
    Object-impl.h
    Object.cpp
    ObjectMap.h
    ObjectMap.cpp
    Protocol.h
    Protocol.cpp
    SharedBlock.h
    SharedBlock-impl.h
    SharedObject.h
    SharedObject-impl.h
    StateBlock.h
    StateBlock-impl.h
    memory.cpp
    allocator/Cache.h
    allocator/Cache-impl.h
    allocator/Cache.cpp
    allocator/Slab.h
    allocator/Slab-impl.h
    allocator/Slab.cpp
    protocol/BlockList.h
    protocol/BlockList-impl.h
    protocol/Gather.h
    protocol/Gather-impl.h
    protocol/Gather.cpp
    protocol/Lazy.h
    protocol/Lazy-impl.h
    protocol/Lazy.cpp
)

set(memory_DBC
    dbc/Block.h
    dbc/Block.cpp
    dbc/Manager.h
    dbc/Manager.cpp
    dbc/Object.h
    dbc/Object.cpp
    dbc/SharedObject.h
    dbc/SharedObject-impl.h
    protocol/dbc/Lazy.h
    protocol/dbc/Lazy.cpp
)

add_gmac_sources(gmac-memory ${memory_SRC} ${memory_DBC})
